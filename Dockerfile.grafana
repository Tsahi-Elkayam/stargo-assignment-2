# Grafana for Render
FROM grafana/grafana:latest

# Copy dashboards and configs (same as docker-compose volumes)
COPY dashboards /var/lib/grafana/dashboards
COPY dashboards/provisioning/dashboards.yaml /etc/grafana/provisioning/dashboards/dashboards.yaml
COPY helm/values/grafana-datasources.yaml /etc/grafana/provisioning/datasources/datasources.yaml

# Same environment as local docker-compose
ENV GF_AUTH_ANONYMOUS_ENABLED=true \
    GF_AUTH_ANONYMOUS_ORG_ROLE=Admin \
    GF_AUTH_DISABLE_LOGIN_FORM=true \
    GF_DASHBOARDS_DEFAULT_HOME_DASHBOARD_PATH=/var/lib/grafana/dashboards/bitcoin-simple.json

EXPOSE 3000
